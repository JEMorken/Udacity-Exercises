{
    "contents" : "---\ntitle: \"Diamonds Exercise II\"\nauthor: \"Jonathan Morken\"\ndate: \"February 20, 2016\"\noutput: html_document\n---\n\nThe following is my set of notes/results from performing the second Udacity Diamonds problem set.  \n\n###Section One - Create a scatterplot of price vs. x using ggplot syntax:  \n\n```{r,echo=FALSE, include = FALSE, message = FALSE, warning=FALSE}\n#Load the Libraries\nlibrary(ggplot2)\nlibrary(dplyr)\ndata(diamonds)\nlibrary(moments)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(gridExtra)\nlibrary(plotly)\n#Make diamonds more than just a \"promise\".\nstr(diamonds)\n```\n\nBasic Plot:\n```{r, echo=FALSE}\nggplot(data = diamonds,aes(x = x, y = price)) +\n  geom_point()\n```\n\n####Observations  \nThe overall shape is similar to that of an increasing exponential function. Transparency should be employed to better illustrate concentration.\n\n####Answers to section questions  \nWhat are the correlations of the following:  \n(1) price to x: `r cor(diamonds$price,diamonds$x)`   \n(2) price to y: `r cor(diamonds$price,diamonds$y)`  \n(3) price to z: `r cor(diamonds$price,diamonds$z)`\n\n\n###Section Two - Create a simple scatterplot of price vs. depth:\n\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\ng2 <- ggplot(data = diamonds,aes(x = depth,y = price)) \ng2 +  geom_point()\n```\n\n####Part Two - Change the code to make the transparency of the points to be 1/100 of what they are now and mark the x-axis every 2 units.\n```{r}\ng2 + geom_point(alpha = 1/100) +\n  scale_x_continuous(breaks = seq(40,80,2))\n```\n\n####Part Three - Observations and answers to questions\nBased on [visually inspecting] the scatterplot of depth vs price, most diamonds are between what values of depth?  60 & 64  \nWhat's the correlation of depth vs. price? `r cor(diamonds$price,diamonds$depth)'  \nThis correlation is too low to suggest a strong relationship between depth and price.\n\n###Section Three - Create a scatterplot of price vs carat and omit the top 1% of price and carat values.\n\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\ng3 <- ggplot(data = diamonds,aes(x = carat,y = price)) \ng3 +  geom_point() +\n  xlim(0,quantile(diamonds$carat,0.99)) +\n  ylim(0,quantile(diamonds$price,0.99))\n```\n\n####Part Two - Create a scatterplot of price vs. volume (x * y * z). Create a new variable for volume in the diamonds data frame. This will be useful in a later exercise. Don't make any adjustments to the plot just yet.\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\n\ndiamonds$volume <- (diamonds$x*diamonds$y*diamonds$z)\n\ng4 <- ggplot(data = diamonds,aes(x = volume,y = price)) \ng4 +  geom_point()\n\n```\n\n####Part Three - Create data frame with volume > 0 & < 800 then provide observations on the above graph and answers to questions:\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\ndiamonds_lmtd_volume <- subset(diamonds, diamonds$volume < 800 & diamonds$volume > 0)\n```\nThis is a very steep, increasing curve that is over-plotted.  There also seem to be some erroneous outliers that should be ignored.  There are `r nrow(subset(diamonds,diamonds$volume ==0))` diamonds with 0 volume! Correlation: if you include diamonds with volume >0 and <800, the correlation of price to volume is equal to `r cor(diamonds_lmtd_volume$volume,diamonds_lmtd_volume$price)`\n\n###Section Four - Adjust the transparency of the points and add a linear model to the plot.\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\n\ng5 <- ggplot(data = diamonds_lmtd_volume,aes(x = volume,y = price)) \ng5 +  geom_point(alpha = 1/100) +\n  geom_smooth(method = \"lm\", color = \"red\")\n\n```\n####Answers to questions\nI believe their are better models than the linear one presented above to predict price based on volume.  For instance, a quadratic model like y= x + I(x^2) would likely be a closer fit.  That said, both lose effectiveness above the 150 mark for volume.\n\n### Section Three - See instructions below:\n\n#### Part one \nUse the function dplyr package to create a new data frame containing info on diamonds by clarity. Name the data frame diamondsByClarity. The data frame should contain the following variables in this order:\n  (1) mean_price\n  (2) median_price\n  (3) min_price\n  (4) max_price\n  (5) n\nwhere n is the number of diamonds in each level of clarity.\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\ndiamondsByClarity <- diamonds %>%\n  group_by(clarity) %>%\n  summarise(mean_price = mean(price),\n          median_price = median(price),\n          min_price = min(price),\n          max_price = max(price),\n          n = n()) \n\nhead(diamondsByClarity,8)\n```\n\n####Part Two - Use summary data frames with the mean price by clarity and color to write additional code to create two bar plots on one output image using the grid.arrange() function from the package gridExtra.\n\n```{r,echo=FALSE, message = FALSE, warning=FALSE}\n#Create diamonds_mp_by_clarity\ndiamonds_by_clarity <- group_by(diamonds, clarity)\ndiamonds_mp_by_clarity <- summarise(diamonds_by_clarity, mean_price = mean(price))\n\n#Create diamonds_mp_by_color\ndiamonds_by_color <- group_by(diamonds, color)\ndiamonds_mp_by_color <- summarise(diamonds_by_color, mean_price = mean(price))\n\n#graph both\ng6 <- ggplot(data = diamonds_mp_by_clarity, aes(x = clarity, y = mean_price))+\n  geom_bar(stat = \"identity\")\ng7 <- ggplot(data = diamonds_mp_by_color, aes(x = color, y = mean_price))+\n  geom_bar(stat = \"identity\")\ngrid.arrange(g6,g7,ncol = 2)\n\n```\n####Observations \nThese aren't behaving as I would have expected.  \nClarity: Price doesn't follow quality of clarity. \nColor: Mean price increases as as color quality decreases.\n",
    "created" : 1456088790298.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1290262841",
    "id" : "8EBF49B6",
    "lastKnownWriteTime" : 1456096523,
    "path" : "~/GitHub/Udacity-Exercises/DiamondsExerciseII.Rmd",
    "project_path" : "DiamondsExerciseII.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_markdown"
}